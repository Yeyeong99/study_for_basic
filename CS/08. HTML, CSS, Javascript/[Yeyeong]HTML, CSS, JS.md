# The Internet

## Routers

- Point A에서 PointB, C, D,,, 로 데이터를 주고 받는 것을 가능하게 해주는 장치
- 인터넷을 여러 기기로 나눠주는 역할
- 우편을 보내는 것과 비슷하다고 생각하면 됨

# TCP/IP (프로토콜)

- 헤더: 데이터 앞에 붙는 정보 덩어리, 전송을 도와주는 제어 정보
- 패킷을 보내는 데 정해진 프로토콜

## IP Internet Protocol

- 모든 컴퓨터는 각각의 컴퓨터를 특정할 수 있는 IP address로 이뤄져 있음
- 형태: #.#.#.#
  - 4 bytes(32bits)
  - 4 billion개 가능: 현재는 이것도 모자라다
    - IPv4 => IPv6
- 헤더에 송신 IP, 수신 IP가 모두 포함되어 있음
- IP 하나로만은 패킷이 제대로 전송되는 걸 보장할 수 없었음
  - 너무 많은 사람들이 접속해 트래픽이 증가하면 데이터가 유실될 때 있음

## TCP

- Ports: Guarantee Delivery

### sequence number

- 데이터(ex 크기 3)를 보낸다고 할 때 패킷(ex 1/3, 2/3, 3/3)들에 번호를 매김

### Port Number

- 한 컴퓨터 안에서 어떤 프로그램(서비스)으로 데이터를 보낼지 정하는 역할
  - 어느 포트로 데이터를 받고 싶은지 명시하는 식

## 정리

- IP 주소: "어느 컴퓨터(장치)로 보낼까?"
- 포트 번호: "그 컴퓨터의 어떤 프로그램(앱, 서비스)으로 보낼까?"

---

### 📦 예를 들어 볼게요
당신이 웹 브라우저에서 네이버를 연다고 가정해 볼게요:

1. 네이버의 IP 주소로 요청을 보냄.

2. 그 요청은 **포트 번호 80번(HTTP 기본 포트)**으로 보내짐.

3. 네이버 서버는 포트 번호를 보고 “아! 이건 웹서버한테 전달해야겠군” 하고 처리.

4. 반대로, 당신 컴퓨터에도 브라우저가 사용할 포트가 임시로 할당돼요. 
    - 예: 포트 49215
    → 이걸 통해 서버가 클라이언트에게 다시 응답을 보내줄 수 있어요.

---

> 참고: 포트 번호호
>
> - 80: HTTP
> - 443: HTTPS

# DNS (Domain Name System)

- 사람이 이해하기 쉬운 도메인 이름 (ex: www.youtube.com)을 컴퓨터가 이해할 수 있는 IP 주소로 바꾸는 역할을 함

---

## 🔁 실제 흐름 요약

1. 사용자가 도메인 입력 (예: www.naver.com)

2. 컴퓨터가 DNS 서버에 물어봄: “이 도메인이 무슨 IP 주소인지 알려줘!”

3. DNS 서버가 IP 주소 응답

4. 컴퓨터는 그 IP 주소로 실제 서버에 접속

---

# DHCP

- What should be my DNS server and router?
- 기기에 자동으로 IP 주소를 할당해주는 프로토콜

---

## 🔁 DHCP 작동 흐름 (쉽게 설명!)

1. 기기(노트북, 스마트폰 등)가 “나 인터넷 연결할 건데 IP 주소 좀 줘!”라고 외침 (→ DHCP Discover)

2. DHCP 서버가 “이 IP 주소 써~”라고 제안함 (→ DHCP Offer)

3. 기기가 “좋아요! 그거 쓸게요”라고 응답 (→ DHCP Request)

4. 서버가 “오케이, 너한테 할당했어”라고 확인 (→ DHCP Acknowledgment)

## 📱 어디에 쓰이나요?

- 집에서 와이파이에 연결할 때

- 회사나 학교의 유선 네트워크

- 스타벅스 같은 공공 와이파이

# HTTP

- 웹 브라우저, 서버가 웹페이지를 주고 받을 때 사용하는 통신 규약

## 🔁 실제 흐름

1. 브라우저: GET /index.html HTTP/1.1 (→ "index.html 파일 주세요!" 라는 뜻)
   - method / 요청할 대상(여기선 파일) 프로토콜 버전
2. 서버: 200 OK + 파일 내용 (→ "응! 여기 있어요")

### HTTP 메서드 종류

| 메서드 |           의미            |
| :----: | :-----------------------: |
|  GET   | 서버에서 데이터 가져오기  |
|  POST  | 서버에 데이터 전송 (등록) |
|  PUT   |   수정 (전체 덮어쓰기)    |
| DELETE |         삭제 요청         |
| PATCH  |         일부 수정         |

## HTTP의 주요 특징

| 항목        | 설명                                                             |
| :---------- | :--------------------------------------------------------------- |
| 프로토콜    | 브라우저와 웹서버 간 통신 규칙                                   |
| 방식        | 클라이언트가 요청 → 서버가 응답                                  |
| 사용 예     | 웹페이지 보기, 이미지/동영상 다운로드 등                         |
| 보안        | HTTP는 암호화 X, 내용이 그대로 노출될 수 있음 / HTTPS는 암호화 O |
| 대표 메서드 | GET, POST, PUT, DELETE 등                                        |

# 🔐 HTTPS는

- **HTTPS는 "HTTP + 보안(SSL/TLS)"**
- HTTP는 데이터가 그대로 전송돼서 도청 가능
- HTTPS는 암호화돼서 보안성 높음
  - 요즘은 거의 모든 사이트가 HTTPS 사용
    (브라우저 주소창에 🔒 자물쇠)

## SSL(Secure Sockets Layer)/TLS(Transport Layer Security)

- 데이터를 암호화해 안전하게 주고받게 해주는 보안 프로토콜
- 실제로는 TLS를 사용 (SSL 이제 사용 안함 오래 됨, SSL이라고 칭하는 것도 다 TSL에 포함됨)

## 🔁 작동 방식 간단 정리

1. 브라우저가 웹사이트에 접속

2. TLS handshake(악수 과정) 시작

   - 인증서 확인 (이 사이트 진짜 맞아?)

   - 암호화 방식, 키 교환 등 협상

     - 🔐 보안의 핵심: 암호화 + 인증 + 무결성

       - 🔒 암호화: 중간에 누가 봐도 해석 못함

       - ✅ 인증: 이 사이트가 진짜 ‘네이버’ 맞는지 확인

       - 🔍 무결성: 누가 중간에 내용 바꾸진 않았는지 확인

3. 둘이 비밀 키 공유 완료

4. 그 다음부터는 안전하게 암호화해서 주고받음!


> ## 참고
>
> curl -I http://www.harvard.edu/
>
> 명령 프롬포트에서 실행하면 HTTP 헤더에 뭐 들어있는지 확인 가능
>
> ### 결과
>
> HTTP/1.1 301 Moved Permanently
> 
> Server: nginx
> 
> Date: Thu, 10 Apr 2025 08:37:59 GMT
> 
> Content-Type: text/html
> 
> Content-Length: 162
> 
> Connection: keep-alive
> 
> Location: https://www.harvard.edu/
> 
> 
> |헤더 항목|의미
> |:-:|:-|
>|HTTP/1.1 301|상태 코드 (301: 다른 곳으로 이동함)
>|Server|서버 정보 (ex: Apache, Nginx 등)
>|Date|응답 시간
>|Content-Type|응답의 콘텐츠 형식 (HTML, JSON 등)
>|Connection|연결 유지 여부 (keep-alive 등)
>|Location|리다이렉션 할 URL (301일 경우 중요!)